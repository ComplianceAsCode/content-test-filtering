{% set project_prefix = "" %}

{% set datastream_build = "build_product " + product %}
{% set datastream_file = "build/ssg-" + product + "-ds.xml" %}
{% set target = "--libvirt qemu:///system test-suite-vm" %}

prepare_product: build_product {{ product }}

ctest_build: (cd build && ctest -j4)

yaml: /usr/bin/YAMLlint
python: Pylint
bash: ShellCheck
xml: xmllint
jinja: jinjalint

profile: test_suite.py profile {{ target }} --datastream {{ datastream_file }} %profile_name%
rule_ansible: test_suite.py rule {{ target }} --remediate ansible --datastream {{ datastream_file }} %rule_name%
rule_bash: test_suite.py rule {{ target }} --remediate bash --datastream {{ datastream_file }} %rule_name%
